var cities = [{
    name: 'Mumbai',
    id: 1,
    slug: 'mumbai'
}, {
    name: 'Pune',
    id: 2,
    slug: 'pune'
}, {
    name: 'Bangalore',
    id: 3,
    slug: 'bangalore'
}, {
    name: 'Delhi',
    id: 4,
    slug: 'delhi'
}, {
    name: 'Gurgaon',
    id: 8,
    slug: 'gurgaon'
}];

// Search Tags
window.searchtag = {
    vendor: 'FITNESS OPTION',
    categorylocation: 'FITNESS TYPE + LOCATION',
    location: 'LOCATION',
    categorylocationoffering: 'OFFERING',
    categorycity: 'FITNESS TYPE + CITY',
    categoryoffering: 'OFFERING'
};

//search page category values 
window.mumbaiSearchCat = [{
    id: "fitness",
    title: "All Fitness Options",
    icon: "fa fa-check",
    cat_group: "all"
}, {
    id: "gyms",
    title: "Gyms",
    icon: "icon icon-gyms",
    cat_group: "featured"
}, {
    id: "yoga",
    title: "Yoga",
    icon: "icon icon-yoga",
    cat_group: "featured"
}, {
    id: "zumba",
    title: "Zumba",
    icon: "icon icon-zumba",
    cat_group: "featured"
}, {
    id: "fitness-studios",
    title: "Fitness Studios",
    icon: "icon icon-fitness-studios",
    cat_group: "featured"
}, {
    id: "crossfit",
    title: "Crossfit",
    icon: "icon icon-crossfit",
    cat_group: "featured"
}, {
    id: "pilates",
    title: "Pilates",
    icon: "icon icon-pilates",
    cat_group: "featured"
}, {
    id: "healthy-tiffins",
    title: "Healthy Tiffins",
    icon: "icon icon-healthy-tiffins",
    cat_group: "featured"
}, {
    id: "cross-functional-training",
    title: "Cross Functional Training",
    icon: "icon icon-cross-functional-training",
    cat_group: "featured"
}, {
    id: "mma-and-kick-boxing",
    title: "MMA And Kick Boxing",
    icon: "icon icon-martial-arts",
    cat_group: "featured"
}, {
    id: "dance",
    title: "Dance",
    icon: "icon icon-dance",
    cat_group: "featured"
}, {
    id: "marathon-training",
    title: "Marathon Training",
    icon: "icon icon-healthy-tiffins",
    cat_group: "featured"
}, {
    id: "spinning-and-indoor-cycling",
    title: "Spinning and Indoor Cycling",
    icon: "icon icon-spinning",
    cat_group: "featured"
}, {
    id: "personal-trainers",
    title: "Personal Trainers",
    icon: "icon icon-personal-trainers",
    cat_group: "featured"
}, {
    id: "healthy-snacks-and-beverages",
    title: "Healthy Snacks and Beverages",
    icon: "icon icon-healthy-tiffins",
    cat_group: "featured"
}, {
    id: "dietitians-and-nutritionists",
    title: "Dietitians And Nutritionists",
    icon: "icon icon-dietitians-and-nutritionists",
    cat_group: "featured"
}, {
    id: "swimming",
    title: "Swimming",
    icon: "icon icon-swimming",
    cat_group: "featured"
}, {
    id: "sport-nutrition-supliment-stores",
    title: "Sport Nutrition Supliment Stores",
    icon: "icon icon-dietitians-and-nutritionists",
    cat_group: "featured"
}];

window.puneSearchCat = [{
    id: "fitness",
    title: "All Fitness Options",
    icon: "fa fa-check",
    cat_group: "all"
}, {
    id: "gyms",
    title: "Gyms",
    icon: "icon icon-gyms",
    cat_group: "featured"
}, {
    id: "yoga",
    title: "Yoga",
    icon: "icon icon-yoga",
    cat_group: "featured"
}, {
    id: "zumba",
    title: "Zumba",
    icon: "icon icon-zumba",
    cat_group: "featured"
}, {
    id: "fitness-studios",
    title: "Fitness Studios",
    icon: "icon icon-fitness-studios",
    cat_group: "featured"
}, {
    id: "cross-functional-training",
    title: "Cross Functional Training",
    icon: "icon icon-cross-functional-training",
    cat_group: "featured"
}, {
    id: "crossfit",
    title: "Crossfit",
    icon: "icon icon-crossfit",
    cat_group: "featured"
}, {
    id: "dance",
    title: "Dance",
    icon: "icon icon-dance",
    cat_group: "featured"
}, {
    id: "mma-and-kick-boxing",
    title: "MMA And Kick Boxing",
    icon: "icon icon-martial-arts",
    cat_group: "featured"
}, {
    id: "aerobics",
    title: "Aerobics",
    icon: "icon icon-spinning",
    cat_group: "featured"
}, {
    id: "pilates",
    title: "Pilates",
    icon: "icon icon-pilates",
    cat_group: "featured"
}, {
    id: "spinning-and-indoor-cycling",
    title: "Spinning and Indoor Cycling",
    icon: "icon icon-spinning",
    cat_group: "featured"
}];

window.bangaloreSearchCat = [{
    id: "fitness",
    title: "All Fitness Options",
    icon: "fa fa-check",
    cat_group: "all"
}, {
    id: "gyms",
    title: "Gyms",
    icon: "icon icon-gyms",
    cat_group: "featured"
}, {
    id: "yoga",
    title: "Yoga",
    icon: "icon icon-yoga",
    cat_group: "featured"
}, {
    id: "zumba",
    title: "Zumba",
    icon: "icon icon-zumba",
    cat_group: "featured"
}, {
    id: "crossfit",
    title: "Crossfit",
    icon: "icon icon-crossfit",
    cat_group: "featured"
}, {
    id: "fitness-studios",
    title: "Fitness Studios",
    icon: "icon icon-fitness-studios",
    cat_group: "featured"
}, {
    id: "mma-and-kick-boxing",
    title: "MMA And Kick Boxing",
    icon: "icon icon-martial-arts",
    cat_group: "featured"
}, {
    id: "cross-functional-training",
    title: "Cross Functional Training",
    icon: "icon icon-cross-functional-training",
    cat_group: "featured"
}, {
    id: "dance",
    title: "Dance",
    icon: "icon icon-dance",
    cat_group: "featured"
}, {
    id: "healthy-tiffins",
    title: "Healthy Tiffins",
    icon: "icon icon-healthy-tiffins",
    cat_group: "featured"
}, {
    id: "pilates",
    title: "Pilates",
    icon: "icon icon-pilates",
    cat_group: "featured"
}, {
    id: "spinning-and-indoor-cycling",
    title: "Spinning and Indoor Cycling",
    icon: "icon icon-spinning",
    cat_group: "featured"
}];

window.delhiSearchCat = [{
    id: "fitness",
    title: "All Fitness Options",
    icon: "fa fa-check",
    cat_group: "all"
}, {
    id: "gyms",
    title: "Gyms",
    icon: "icon icon-gyms",
    cat_group: "featured"
}, {
    id: "yoga",
    title: "Yoga",
    icon: "icon icon-yoga",
    cat_group: "featured"
}, {
    id: "zumba",
    title: "Zumba",
    icon: "icon icon-zumba",
    cat_group: "featured"
}, {
    id: "cross-functional-training",
    title: "Cross Functional Training",
    icon: "icon icon-cross-functional-training",
    cat_group: "featured"
}, {
    id: "dance",
    title: "Dance",
    icon: "icon icon-dance",
    cat_group: "featured"
}, {
    id: "fitness-studios",
    title: "Fitness Studios",
    icon: "icon icon-fitness-studios",
    cat_group: "featured"
}, {
    id: "crossfit",
    title: "Crossfit",
    icon: "icon icon-crossfit",
    cat_group: "featured"
}, {
    id: "pilates",
    title: "Pilates",
    icon: "icon icon-pilates",
    cat_group: "featured"
}, {
    id: "mma-and-kick-boxing",
    title: "Mma And Kick Boxing",
    icon: "icon icon-martial-arts",
    cat_group: "featured"
}, {
    id: "marathon-training",
    title: "Marathon Training",
    icon: "icon icon-healthy-tiffins",
    cat_group: "featured"
}, {
    id: "spinning-and-indoor-cycling",
    title: "Spinning and Indoor Cycling",
    icon: "icon icon-spinning",
    cat_group: "featured"
}];
// Category Values
window.mumbaicatfeature = [{
    id: "fitness",
    title: "All Fitness Options",
    icon: "fa fa-check",
    cat_group: "all"
}, {
    id: "gyms",
    title: "Gyms",
    icon: "icon icon-gyms",
    cat_group: "featured"
}, {
    id: "yoga",
    title: "Yoga",
    icon: "icon icon-yoga",
    cat_group: "featured"
}, {
    id: "zumba",
    title: "Zumba",
    icon: "icon icon-zumba",
    cat_group: "featured"
}, {
    id: "cross-functional-training",
    title: "Cross Functional Training",
    icon: "icon icon-cross-functional-training",
    cat_group: "featured"
}, {
    id: "dance",
    title: "Dance",
    icon: "icon icon-dance",
    cat_group: "featured"
}, {
    id: "fitness-studios",
    title: "Fitness Studios",
    icon: "icon icon-fitness-studios",
    cat_group: "featured"
}, {
    id: "crossfit",
    title: "Crossfit",
    icon: "icon icon-crossfit",
    cat_group: "featured"
}, {
    id: "pilates",
    title: "Pilates",
    icon: "icon icon-pilates",
    cat_group: "featured"
}, {
    id: "mma-and-kick-boxing",
    title: "Mma And Kick Boxing",
    icon: "icon icon-martial-arts",
    cat_group: "featured"
}, {
    id: "healthy-tiffins",
    title: "Healthy Tiffins",
    icon: "icon icon-healthy-tiffins",
    cat_group: "featured"
}, {
    id: "marathon-training",
    title: "Marathon Training",
    icon: "icon icon-marathon-training",
    cat_group: "featured"
}, {
    id: "swimming",
    title: "Swimming",
    icon: "icon icon-swimming",
    cat_group: "featured"
}, {
    id: "dietitians-and-nutritionists",
    title: "Dietitians And Nutritionists",
    icon: "icon icon-dietitians-and-nutritionists",
    cat_group: "featured"
}];
window.punecatfeature = [{
    id: "fitness",
    title: "All Fitness Options",
    icon: "fa fa-check",
    cat_group: "all"
}, {
    id: "gyms",
    title: "Gyms",
    icon: "icon icon-gyms",
    cat_group: "featured"
}, {
    id: "yoga",
    title: "Yoga",
    icon: "icon icon-yoga",
    cat_group: "featured"
}, {
    id: "zumba",
    title: "Zumba",
    icon: "icon icon-zumba",
    cat_group: "featured"
}, {
    id: "cross-functional-training",
    title: "Cross Functional Training",
    icon: "icon icon-cross-functional-training",
    cat_group: "featured"
}, {
    id: "dance",
    title: "Dance",
    icon: "icon icon-dance",
    cat_group: "featured"
}, {
    id: "fitness-studios",
    title: "Fitness Studios",
    icon: "icon icon-fitness-studios",
    cat_group: "featured"
}, {
    id: "crossfit",
    title: "Crossfit",
    icon: "icon icon-crossfit",
    cat_group: "featured"
}, {
    id: "kick-boxing",
    title: "Kick Boxing",
    icon: "icon icon-kick-boxing",
    cat_group: "featured"
}, {
    id: "pilates",
    title: "Pilates",
    icon: "icon icon-pilates",
    cat_group: "featured"
}, {
    id: "mma-and-kick-boxing",
    title: "Mma And Kick Boxing",
    icon: "icon icon-martial-arts",
    cat_group: "featured"
}, {
    id: "aerobics",
    title: "Aerobics",
    icon: "icon icon-aerobics",
    cat_group: "featured"
}, {
    id: "spinning",
    title: "Spinning",
    icon: "icon icon-spinning",
    cat_group: "featured"
}];
window.bangcatfeature = [{
    id: "fitness",
    title: "All Fitness Options",
    icon: "fa fa-check",
    cat_group: "all"
}, {
    id: "gyms",
    title: "Gyms",
    icon: "icon icon-gyms",
    cat_group: "featured"
}, {
    id: "yoga",
    title: "Yoga",
    icon: "icon icon-yoga",
    cat_group: "featured"
}, {
    id: "zumba",
    title: "Zumba",
    icon: "icon icon-zumba",
    cat_group: "featured"
}, {
    id: "dance",
    title: "Dance",
    icon: "icon icon-dance",
    cat_group: "featured"
}, {
    id: "crossfit",
    title: "Crossfit",
    icon: "icon icon-crossfit",
    cat_group: "featured"
}, {
    id: "mma-and-kick-boxing",
    title: "Mma And Kick Boxing",
    icon: "icon icon-martial-arts",
    cat_group: "featured"
}, {
    id: "fitness-studios",
    title: "Fitness Studios",
    icon: "icon icon-fitness-studios",
    cat_group: "featured"
}, {
    id: "pilates",
    title: "Pilates",
    icon: "icon icon-pilates",
    cat_group: "featured"
}, {
    id: "cross-functional-training",
    title: "Cross Functional Training",
    icon: "icon icon-cross-functional-training",
    cat_group: "featured"
}, {
    id: "spinning",
    title: "Spinning",
    icon: "icon icon-spinning-and-indoor-cycling:before",
    cat_group: "featured"
}, {
    id: "healthy-tiffins",
    title: "Healthy Tiffins",
    icon: "icon icon-healthy-tiffins",
    cat_group: "featured"
}];
window.delhicatfeature = [{
    id: "fitness",
    title: "All Fitness Options",
    icon: "fa fa-check",
    cat_group: "all"
}, {
    id: "gyms",
    title: "Gyms",
    icon: "icon icon-gyms",
    cat_group: "featured"
}, {
    id: "yoga",
    title: "Yoga",
    icon: "icon icon-yoga",
    cat_group: "featured"
}, {
    id: "zumba",
    title: "Zumba",
    icon: "icon icon-zumba",
    cat_group: "featured"
}, {
    id: "cross-functional-training",
    title: "Cross Functional Training",
    icon: "icon icon-cross-functional-training",
    cat_group: "featured"
}, {
    id: "dance",
    title: "Dance",
    icon: "icon icon-dance",
    cat_group: "featured"
}, {
    id: "crossfit",
    title: "Crossfit",
    icon: "icon icon-crossfit",
    cat_group: "featured"
}, {
    id: "pilates",
    title: "Pilates",
    icon: "icon icon-pilates",
    cat_group: "featured"
}, {
    id: "mma-and-kick-boxing",
    title: "Mma And Kick Boxing",
    icon: "icon icon-martial-arts",
    cat_group: "featured"
}, {
    id: "spinning",
    title: "Spinning",
    icon: "icon icon-spinning-and-indoor-cycling:before",
    cat_group: "featured"
}];
window.gurgaoncatfeature = [{
    id: "fitness",
    title: "All Fitness Options",
    icon: "fa fa-check",
    cat_group: "all"
}, {
    id: "gyms",
    title: "Gyms",
    icon: "icon icon-gyms",
    cat_group: "featured"
}, {
    id: "yoga",
    title: "Yoga",
    icon: "icon icon-yoga",
    cat_group: "featured"
}, {
    id: "zumba",
    title: "Zumba",
    icon: "icon icon-zumba",
    cat_group: "featured"
}, {
    id: "cross-functional-training",
    title: "Cross Functional Training",
    icon: "icon icon-cross-functional-training",
    cat_group: "featured"
}, {
    id: "dance",
    title: "Dance",
    icon: "icon icon-dance",
    cat_group: "featured"
}, {
    id: "crossfit",
    title: "Crossfit",
    icon: "icon icon-crossfit",
    cat_group: "featured"
}, {
    id: "pilates",
    title: "Pilates",
    icon: "icon icon-pilates",
    cat_group: "featured"
}, {
    id: "mma-and-kick-boxing",
    title: "Mma And Kick Boxing",
    icon: "icon icon-martial-arts",
    cat_group: "featured"
}, {
    id: "spinning",
    title: "Spinning",
    icon: "icon icon-spinning-and-indoor-cycling:before",
    cat_group: "featured"
}];

window.getCookie = function(cname) {
    var name = cname + "=";
    var ca = document.cookie.split(';');
    for (var i = 0; i < ca.length; i++) {
        var c = ca[i];
        while (c.charAt(0) == ' ') c = c.substring(1);
        if (c.indexOf(name) === 0) return c.substring(name.length, c.length);
    }
    return "";
};

window.setCookie = function(cname, cvalue, exdays) {
    var d = new Date();
    d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
    var expires = "expires=" + d.toUTCString();
    document.cookie = cname + "=" + cvalue + "; " + expires;
    console.log(document.cookie);
};


window.checkCookie = function() {
    var showpop = window.getCookie("showcitypop");
    // console.log(showpop);
    if (showpop === "true") {
        console.log("showing the popup");
        $.magnificPopup.open({
            items: {
                src: '#notavailable',
                type: 'inline'
            }
        });
    } else {
        var curcity = window.getCookie("chosencity");
        var cityname = curcity + " <span class='mui-caret'></span>";
        document.getElementById('citydrop').innerHTML = cityname;
    }
};

// Check cookie for city popup if the user is not from our cities
window.checkCookie();

var fitternity = {} || Object;
window.baseuri = {};
window.baseuri.url = "https://a1.fitternity.com";
fitternity = {
    /*
        Declaration of All Global Level Objects
        in main fitternity namespace object
    */
    fitHeader: {} || fitternity || Object,
    fitSearch: {} || fitternity || Object,
    fithome: {} || fitternity || Object,

    baseuri: {
        url: 'https://a1.fitternity.com'
    },

    local: $.localStorage,
    session: $.sessionStorage,
    cookie: $.cookieStorage,
    fitCookie: {
        getCookie: function(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') c = c.substring(1);
                if (c.indexOf(name) === 0) return c.substring(name.length, c.length);
            }
            return "";
        }
    },
    fitLocalStorage: {
        setlocal: function(key, value) {
            localStorage.setItem(key, value);
        },
        getlocal: function(key) {
            return localStorage.getItem(key);
        },
        removelocal: function(key) {
            localStorage.removeItem(key);
        },
        setlocalJsonFormat: function(key, jsonvalue) {

            var exist = (localStorage.getItem(key) === null) ? false : true;
            var addJson = [];
            if (exist) {
                var alreadyValue = JSON.parse(localStorage.getItem(key));
                if (alreadyValue.length > 0) {
                    addJson = alreadyValue;
                    addJson.push(jsonvalue);
                } else {
                    addJson.push(jsonvalue);
                }
                localStorage.setItem(key, JSON.stringify(addJson));
            } else {
                addJson.push(jsonvalue);
                localStorage.setItem(key, JSON.stringify(addJson));
            }
        },
        getlocalJsonFormat: function(key) {
            var retrievedObject = localStorage.getItem(key);
            return JSON.parse(retrievedObject);
        },
        clearAllLocal: function() {
            localStorage.clear();
        }
    },

    detectdevice: function() {
        var device = '';
        if (window.navigator.userAgent.match(/Mobile/i) || window.navigator.userAgent.match(/iPhone/i) || window.navigator.userAgent.match(/iPod/i) || window.navigator.userAgent.match(/IEMobile/i) || window.navigator.userAgent.match(/Windows Phone/i) || window.navigator.userAgent.match(/Android/i) || window.navigator.userAgent.match(/BlackBerry/i) || window.navigator.userAgent.match(/webOS/i)) {
            device = 'mobile';
        } else if (window.navigator.userAgent.match(/Tablet/i) || window.navigator.userAgent.match(/iPad/i) || window.navigator.userAgent.match(/Nexus 7/i) || window.navigator.userAgent.match(/Nexus 10/i) || window.navigator.userAgent.match(/KFAPWI/i)) {
            device = 'tablet';
        } else {
            device = 'laptop';
        }
        return device;
    },

    createCarousel: function(sliderId, controls, options, isSingle, ifloop) {
        var slider = document.getElementById(sliderId);
        var control = document.getElementsByClassName(controls);
        if ($(slider).length) {
            if (!isSingle) {
                $(slider).addClass('owl-carousel').owlCarousel({
                    responsive: {
                        300: {
                            items: 1,
                            stagePadding: 25
                        },
                        600: {
                            items: 2
                        },
                        1024: {
                            items: 4
                        }
                    },
                    slideBy: 3,
                    loop: ifloop !== undefined ? ifloop : true,
                    lazyLoad: true,
                    autoHeight: true
                });
            } else {
                $(slider).addClass('owl-carousel').owlCarousel({
                    responsive: {
                        300: {
                            items: 1,
                            stagePadding: 25
                        },
                        600: {
                            items: 1
                        },
                        1024: {
                            items: 4
                        }
                    },
                    slideBy: 1,
                    pagination: true,
                    paginationNumbers: false,
                    lazyLoad: true,
                    autoHeight: true,
                    loop: ifloop !== undefined ? ifloop : true,
                });
            }


            $(control).click(function() {
                if ($(this).hasClass('left')) {
                    $(slider).trigger('prev.owl.carousel');
                } else {
                    $(slider).trigger('next.owl.carousel');
                }
            });
        }
    },

    createMobileCarousel: function(sliderId, controls, options) {
        var slider = document.getElementById(sliderId);
        var control = document.getElementsByClassName(controls);
        if ($(slider).length && window.innerWidth <= 600) {
            $(slider).addClass('owl-carousel').owlCarousel({
                responsive: {
                    300: {
                        items: 1,
                        stagePadding: 25
                    },
                    600: {
                        items: 1
                    },
                    1024: {
                        items: 1
                    }
                },
                slideBy: 1,
                pagination: true,
                paginationNumbers: false,
                lazyLoad: true,
                autoHeight: true,
                loop: true
            });

            $(control).click(function() {
                if ($(this).hasClass('left')) {
                    $(slider).trigger('prev.owl.carousel');
                } else {
                    $(slider).trigger('next.owl.carousel');
                }
            });
        }
    },
    fitDebounce: function(func, wait, immediate) {
        // 'private' variable for instance
        // The returned function will be able to reference this due to closure.
        // Each call to the returned function will share this common timer.
        var timeout;

        // Calling debounce returns a new anonymous function
        return function() {
            // reference the context and args for the setTimeout function
            var context = this,
                args = arguments;

            // Should the function be called now? If immediate is true
            //   and not already in a timeout then the answer is: Yes
            var callNow = immediate && !timeout;

            // This is the basic debounce behaviour where you can call this 
            //   function several times, but it will only execute once 
            //   [before or after imposing a delay]. 
            //   Each time the returned function is called, the timer starts over.
            clearTimeout(timeout);

            // Set the new timeout
            timeout = setTimeout(function() {

                // Inside the timeout function, clear the timeout variable
                // which will let the next execution run when in 'immediate' mode
                timeout = null;
                // Check if the function already ran with the immediate flag
                if (!immediate) {
                    // Call the original function with apply
                    // apply lets you define the 'this' object as well as the arguments 
                    // (both captured before setTimeout)
                    func.apply(context, args);
                }
            }, wait);
            // Immediate mode and no wait timer? Execute the function..
            if (callNow) {
                func.apply(context, args);
            }
        };
    }
};

var cityEvent = function(city) {
    var x = window.location.href.split('/');
    var path = window.location.origin;
    kyu1.pushevent('cityswitch', { city: city });
    if (x.length > 7) {
        console.log('length here');
        var y = path + '/' + city + '/fitness/all/all/all/all/0/popularity/desc';
        console.log(y);
        window.location.href = y;
    } else {
        window.location.href = path + '/' + city;
    }
};
// Capitalizing the strings
String.prototype.capitalize = function() {
    var str = "";
    var payload = this.split(' ');
    _.each(payload, function(d, i) {
        str = str.concat(d.charAt(0).toUpperCase() + d.slice(1));
        if (i < (payload.length - 1)) {
            str = str + " ";
        }
    });
    return str;
};
